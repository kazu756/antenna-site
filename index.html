<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ãƒã‚¤ã‚¢ãƒ³ãƒ†ãƒŠã‚µã‚¤ãƒˆ</title>
  <!-- Tailwind CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-900">
  <div class="max-w-3xl mx-auto p-4">
    <h1 class="text-2xl font-bold mb-6">ğŸ“° ãƒã‚¤ãƒ‹ãƒ¥ãƒ¼ã‚¹ã¾ã¨ã‚</h1>
    <div id="feed">
      <p>èª­ã¿è¾¼ã¿ä¸­...</p>
    </div>
  </div>

  <script src="https://unpkg.com/rss-parser/dist/rss-parser.min.js"></script>
  <script>
    const parser = new RSSParser();
    const CORS = "https://api.allorigins.win/get?url=";
    const feedUrls = [
      "https://www3.nhk.or.jp/rss/news/cat0.xml",
      "https://news.yahoo.co.jp/rss/topics/top-picks.xml"
    ];

    const container = document.getElementById("feed");
    container.innerHTML = "";

    feedUrls.forEach(rawUrl => {
      const url = encodeURIComponent(rawUrl);
      fetch(CORS + url)
        .then(r => r.json())
        .then(d => parser.parseString(d.contents, (err, feed) => {
          if (err) return console.error(err);
          const section = document.createElement("section");
          section.className = "mb-8";
          section.innerHTML = `<h2 class="text-xl font-semibold mb-4">${feed.title}</h2>`;

          feed.items.slice(0, 5).forEach(item => {
            const thumb = item.enclosure?.url || "";
            const card = document.createElement("div");
            card.className = "bg-white shadow rounded-lg p-4 mb-4 flex";
            card.innerHTML = `
              ${thumb ? `<img src="${thumb}" class="w-24 h-24 object-cover rounded mr-4">` : ''}
              <div>
                <a href="${item.link}" target="_blank" class="text-lg font-bold text-blue-600 hover:underline">
                  ${item.title}
                </a>
                <p class="text-gray-500 text-sm">${new Date(item.pubDate).toLocaleString()}</p>
              </div>`;
            section.appendChild(card);
          });

          container.appendChild(section);
        }))
        .catch(e => console.error(e));
    });
  </script>
</body>
</html>
